function Solves(){this.versionId=1,this.version="1.0",this.siteUrl="https://...",this.siteTitulo="Solves Site Name",this.siteShortName="Solves Short Site Name",this.icon=this.siteUrl+"...",this.solvesPlugins=[],this.app=!1,this.url=null,this.PARAM_NAME_DADOS="dados",this.PARAM_NAME_TOKEN="token",this.PARAM_NAME_USERDATA="userData",this.PARAM_NAME_USUARIO="usuario",this.PARAM_NAME_ADDRESS_DATA="addressData",this.PARAM_NAME_GEO_DATA="geoData",this.PERFIL_LOGADO=null,this.submiting=!1,this.telaAtualId=null,this.telaAtualTitulo=null,this.telaAtualSubtitulo=null,this.submiting=!1,this.filtro=null,this.params=null,this.lista=[],this.objetoId=null,this.objeto=null,this.subObjetoId=null,this.subObjeto=null,this.subObjetoQtd=0,this.subObjetos=[],this.fireBaseConfig={},this.fireBaseInitialized=!1,this.fireBaseApp=null,this.init=function(t,e,s,i){this.siteUrl=t,this.siteTitulo=e,this.siteShortName=s,this.icon=i},this.setFireBaseConfig=function(t){console.log("setFireBaseConfig"),void 0!==t&&$.Solves.isNotEmpty(t.apiKey)&&$.Solves.isNotEmpty(t.authDomain)&&$.Solves.isNotEmpty(t.projectId)&&$.Solves.isNotEmpty(t.messagingSenderId)&&$.Solves.isNotEmpty(t.databaseURL)&&$.Solves.isNotEmpty(t.storageBucket)&&(this.fireBaseConfig=t,firebase&&firebase.apps.length||(console.log("setFireBaseConfig init"),this.fireBaseInitialized=!0,this.fireBaseApp=firebase.initializeApp(this.fireBaseConfig),console.log(this.fireBaseApp)))},this.addSolvesPlugin=function(t,e){return void 0!==this.solvesPlugins[t]&&null!=this.solvesPlugins[t]&&this.solvesPlugins[t].solvesPluginName==t?this.solvesPlugins[t]:void(this.solvesPlugins[t]=e)},this.getSolvesPlugin=function(t){return void 0!==this.solvesPlugins[t]&&null!=this.solvesPlugins[t]&&this.solvesPlugins[t].solvesPluginName==t?this.solvesPlugins[t]:null},this.hasSolvesPlugin=function(t){return null!=this.solvesPlugins[t]},this.isApp=function(){return this.isTrue(this.app)},this.getCompleteUrl=function(t,e){return(this.isTrue(t)?"/":this.siteUrl)+e},this.especialCharMask=function(t){return t=t.replace(/[ÀÁÂÃÄÅ]/g,"A"),t=t.replace(/[àáâãäå]/g,"a"),t=t.replace(/[ÈÉÊË]/g,"E"),t.replace(/[^a-z0-9]/gi,"")},this.isTrue=function(t){return void 0!==t&&null!==t&&(1==t||"true"==t||1==t||"1"==t||"on"==t)},this.isNotEmpty=function(t){return void 0!==t&&null!=t&&"null"!=t&&""!=t&&"undefined"!=t},this.getAllUrlParams=function(t){var e=t?t.split("?")[1]:window.location.search.slice(1),s={};if(e){e=e.split("#")[0];for(var i=e.split("&"),o=0;o<i.length;o++){var l=i[o].split("="),n=void 0,r=l[0].replace(/\[\d*\]/,function(t){return n=t.slice(1,-1),""}),a="undefined"==typeof l[1]?!0:l[1];r=r.toLowerCase(),a=a.toLowerCase(),s[r]?("string"==typeof s[r]&&(s[r]=[s[r]]),"undefined"==typeof n?s[r].push(a):s[r][n]=a):s[r]=a}}return s},this.getAjaxParam=function(t,e,s,i){var o=null,l=this.getSolvesPlugin("SolvesStorage");return null!=l&&(o=l.getStorageAuthToken()),{type:"POST",url:t,processData:!1,contentType:!1,cache:!1,data:e,headers:{Authorization:o},success:function(t){s(t),result=jQuery.parseJSON(t),this.isTrue(result.logoff)&&(console.log("não autorizado."),this.logoff()),this.loaded()},error:function(t){i(t),this.loaded()},complete:function(){this.loaded()}}},this.getAjaxExternalParam=function(t,e,s,i,o){return{type:e,url:t,processData:!1,contentType:!1,cache:!1,data:s,success:function(t){i(t),console.log(t),result=jQuery.parseJSON(t),console.log(result),this.loaded()},error:function(t){o(t),this.loaded()}}},this.doAjax=function(t,e,s,i){$.ajax(this.getAjaxParam(t,e,s,i))},this.doAjaxExternal=function(t,e,s,i,o){$.ajax(this.getAjaxExternalParam(t,e,s,i,o))},this.doMaskForMoney=function(t){$("#"+t).maskMoney({symbol:"R$",decimal:",",thousands:"."})},this.getUserLabel=function(t,e){return $.Solves.PERFIL_LOGADO.user_id==t?"Eu":e},this.getIdade=function(t){var e=t.substring(0,4),s=t.substring(5,7),i=t.substring(8,10),o=new Date,l=o.getFullYear(),n=o.getMonth()+1,r=o.getDate(),e=+e,s=+s,i=+i,a=l-e;return(s>n||n==s&&i>r)&&a--,0>a?0:a},this.escapeTextField=function(t){return escape(t)},this.apenasNumeros=function(t){var e=t.replace(/[^0-9]/g,"");return parseInt(e)},this.getDoubleValue=function(t){var e=t.replace(/[^0-9,.]/g,"");return e.indexOf(".")>0&&e.indexOf(",")>0&&(e=e.replace(/[.]/g,"")),e=e.replace(",","."),parseFloat(e)},this.formatMoneyByCountry=function(t){return"R$ "+this.formatMoney(t)},this.formatMoney=function(t){var e="";if(void 0!==t){t=Math.round(100*t)/100;var s=t.toString().length,i=t.toString().indexOf("."),o=i>0?t.toString().substring(0,i):t,l=i>0?t.toString().substring(i+1,s):0,n=10>l?l+"0":l;e=o+","+n}return e},this.getDataAtualFormatada=function(){var t=new Date,e=t.getDate().toString(),s=1==e.length?"0"+e:e,i=(t.getMonth()+1).toString(),o=1==i.length?"0"+i:i,l=t.getFullYear();return s+"/"+o+"/"+l},this.removeEspacos=function(t){return void 0!==t&&null!=t?t.replace(/\s/g,""):null},this.substituiEspacos=function(t,e){return void 0!==t&&null!=t?t.replace(/\s/g,e):null},this.getSiteUrl=function(){return this.siteUrl},this.getSiteUrlRest=function(){return this.siteUrl+"rest/"},this.getSubObjetos=function(t){return this.subObjetos[t]},this.setSubObjetos=function(t,e){this.subObjetos[t]=e},this.getSubObjeto=function(t,e){return this.subObjetos[t][e]},this.setSubObjeto=function(t,e,s){this.subObjetos[t][e]=s},this.removeSubObjeto=function(t,e){this.subObjetos[t][e].remove()},this.getPalavraPrimeiraLetraMaiuscula=function(t){return null!=t&&(t=t.length>1?t.substring(0,1).toUpperCase()+t.substring(1,t.length):t.toUpperCase()),t},this.getTempoPassadoFormatado=function(t,e){if(void 0==e||null==e||1>e)return"há momentos atrás";if(60>e){var s=Math.floor(e);return"há "+s+" minuto"+(s>1?"s":"")}if(e>=60&&1440>e){var s=Math.floor(e/60);return"há "+s+" hora"+(s>1?"s":"")}if(e>=1440&&44640>e){var s=Math.floor(e/60/24);return"há "+s+(s>1?" dias":" dia")+" ("+t+")"}if(e>=44640&&525600>e){var s=Math.floor(e/60/24/31);return"há "+s+(s>1?" meses":" mês")+" ("+t+")"}if(e>=525600){var s=Math.floor(e/60/24/31/12);return"há "+s+(s>1?" anos":" ano")+" ("+t+")"}return t},this.getMinutosLabel=function(t){if(void 0==t||null==t||1>t)return"";var e=Math.floor(t);return e+" minuto"+(e>1?"s":"")},this.getExtensao=function(t){return null==t||t.indexOf(".")<1?"":t.split(".").pop()},this.getClassByExtension=function(t){var e="";return"jpg"===t||"JPG"===t||"jpeg"===t||"JPEG"===t||"gif"===t||"GIF"===t||"png"===t||"PNG"===t?e="item_anexo_image":"pdf"===t||"PDF"===t?e="item_anexo_pdf":"zip"===t||"ZIP"===t?e="item_anexo_zip":"doc"===t||"DOC"===t||"docx"===t||"DOCX"===t?e="item_anexo_doc":"xls"===t||"XLS"===t||"xlsx"===t||"XLSX"===t?e="item_anexo_xls":"ppt"!==t&&"PPT"!==t&&"pptx"!==t&&"PPTX"!==t||(e="item_anexo_ppt"),e},this.htmlDecode=function(t){return this.isNotEmpty(t)?(t=t.replaceAll("&lt;p&gt;","<p>").replaceAll("&lt;/p&gt;","</p>"),t=t.replaceAll("&lt;b&gt;","<b>").replaceAll("&lt;/b&gt;","</b>"),t=t.replaceAll("&lt;strong&gt;","<strong>").replaceAll("&lt;/strong&gt;","</strong>"),t=t.replaceAll("&lt;h3&gt;","<h3>").replaceAll("&lt;/h3&gt;","</h3>"),t=t.replaceAll("&lt;h2&gt;","<h2>").replaceAll("&lt;/h2&gt;","</h2>"),t=t.replaceAll("&lt;h1&gt;","<h1>").replaceAll("&lt;/h1&gt;","</h1>"),t=t.replaceAll("&lt;em&gt;","<em>").replaceAll("&lt;/em&gt;","</em>"),t=t.replaceAll("&lt;br&gt;","<br>").replaceAll("&lt;br/&gt;","<br/>"),t=t.replaceAll("&#92;&#34;",'"')):t="",t},this.htmlDecodePuro=function(t){return this.isNotEmpty(t)?($("<div>",{id:"hiddenHtmlDecode","class":"hidden"}).appendTo("body"),t=$("#hiddenHtmlDecode").html(this.htmlDecode(t)).text(),$("#hiddenHtmlDecode").html("").remove()):t="",t},this.getFormData=function(t){var e=new FormData;return e.append(this.PARAM_NAME_DADOS,this.getJsonData(t)),e},this.getTokenUrlParam=function(){if(this.isLogado()){var t=this.getSolvesPlugin("SolvesStorage");if(null!=t){var e=t.getStorageAuthToken(),s=t.getStorageAuthUserData();return this.PARAM_NAME_TOKEN+"="+e+"&"+this.PARAM_NAME_USERDATA+"="+s}console.log("logoff sem SolvesStorage.")}return""},this.getJsonData=function(t){var e=this.getTokenUrlParam(),s=this.getSolvesPlugin("SolvesStorage"),i=this.getSolvesPlugin("SolvesGeo");return null!=s&&null!=i&&(void 0!=i.addressData&&null!=i.addressData&&(e+=(e.length>0?"&":"?")+this.PARAM_NAME_ADDRESS_DATA+"="+this.escapeTextField(JSON.stringify(i.addressData))),void 0!=i.geoData&&null!=i.geoData&&(e+=(e.length>0?"&":"?")+this.PARAM_NAME_GEO_DATA+"="+this.escapeTextField(JSON.stringify(i.geoData)))),void 0!=t&&(e+=(e.length>0?"&":"?")+this.PARAM_NAME_DADOS+"="+this.escapeTextField(JSON.stringify(t))),e},this.refreshUrlBrowser=function(t,e){window.history.pushState(t,this.siteTitulo+(isNotEmpty(e)?" "+e:""),t)},this.logoff=function(){this.PERFIL_LOGADO=null;var t=this.getSolvesPlugin("SolvesStorage");null!=t?t.clearAuthData():console.log("logoff sem SolvesStorage."),this.clearDataActualPage()},this.isLogado=function(){var t=this.getSolvesPlugin("SolvesStorage");return null!=t?this.isNotEmpty(t.getStorageAuthUsuario()):(console.log("logoff sem SolvesStorage."),!1)},this.getPerfilLogado=function(){if(this.isLogado()){if(null==$.Solves.PERFIL_LOGADO){var t=this.getSolvesPlugin("SolvesStorage");null!=t?$.Solves.PERFIL_LOGADO=t.getStorageAuthUsuario():console.log("logoff sem SolvesStorage.")}}else $.Solves.PERFIL_LOGADO=null;return $.Solves.PERFIL_LOGADO},this.loaded=function(){$.Solves.submiting=!1;var t=this.getSolvesPlugin("SolvesUi");return null!=t?t.loaded():void 0},this.atualizaPerfilLogado=function(t){$.Solves.getPerfilLogado().data_nascimento=t.data_nascimento,$.Solves.getPerfilLogado().email_confirmado=this.isTrue(t.email_confirmado),$.Solves.getPerfilLogado().email=t.email,$.Solves.getPerfilLogado().nome=t.nome,$.Solves.getPerfilLogado().avatar=t.avatar,$.Solves.getPerfilLogado().idade=getIdade(this.getPerfilLogado().data_nascimento),$.Solves.PERFIL_LOGADO=$.Solves.getPerfilLogado();var e=this.getSolvesPlugin("SolvesStorage");null!=e&&e.setStorageAuthUsuario(JSON.stringify($.Solves.PERFIL_LOGADO));var s=this.getSolvesPlugin("SolvesUi");null!=s&&s.preencheHtmlUsuarioLogado()},this.clearDataActualPage=function(){this.filtro=null,this.params=null,this.lista=[],this.objetoId=null,this.objeto=null,this.subObjetoId=null,this.subObjeto=null,this.subObjetoQtd=0,this.subObjetos=[]},this.refreshOffline=function(t){window.location.href=t}}$.Solves=new Solves,String.prototype.replaceAll=function(t,e){var s=this;return s.replace(new RegExp(t,"g"),e)},Array.prototype.remove=function(t,e){var s=this.slice((e||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,s)};