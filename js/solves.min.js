function Solves(){this.versionId=2,this.version="1.1",this.debug=!1,this.siteUrl="https://...",this.siteTitulo="Solves Site Name",this.siteShortName="solves_short_name",this.icon=this.siteUrl+"...",this.solvesPlugins=[],this.app=!1,this.url=null,this.PARAM_NAME_DADOS="dados",this.PARAM_NAME_TOKEN="token",this.PARAM_NAME_USERDATA="userData",this.PARAM_NAME_PERFIL="perfil",this.PARAM_NAME_USUARIO="usuario",this.PARAM_NAME_FIREBASE_AUTH_USER="firebaseauthuser",this.PARAM_NAME_FIREBASE_AUTH_TOKEN="firebaseauthtoken",this.PARAM_NAME_FIREBASE_AUTH_RESULT="firebaseauthresult",this.PARAM_NAME_ADDRESS_DATA="addressData",this.PARAM_NAME_GEO_DATA="geoData",this.PERFIL_LOGADO=null,this.submiting=!1,this.telaAtualId=null,this.telaAtualTitulo=null,this.telaAtualSubtitulo=null,this.submiting=!1,this.filtro=null,this.params=null,this.lista=[],this.objetoId=null,this.objeto=null,this.funcao=null,this.subObjetoId=null,this.subObjeto=null,this.subObjetoQtd=0,this.subObjetos=[],this.fireBaseConfig={},this.fireBaseInitialized=!1,this.fireBaseApp=null,this.init=function(t,e,s,i){for(var l in this.siteUrl=t,this.siteTitulo=e,this.siteShortName=s,this.icon=i,this.solvesPlugins){var n=this.solvesPlugins[l];n.afterSolvesInit&&"function"==typeof n.afterSolvesInit&&n.afterSolvesInit()}},this.setFireBaseConfig=function(t){void 0!==t&&this.isNotEmpty(t.apiKey)&&this.isNotEmpty(t.authDomain)&&this.isNotEmpty(t.projectId)&&this.isNotEmpty(t.messagingSenderId)&&this.isNotEmpty(t.databaseURL)&&this.isNotEmpty(t.storageBucket)&&(this.fireBaseConfig=t,firebase&&firebase.apps.length||(this.fireBaseInitialized=!0,this.fireBaseApp=firebase.initializeApp(this.fireBaseConfig)))},this.addSolvesPlugin=function(t,e){if(void 0!==this.solvesPlugins[t]&&null!=this.solvesPlugins[t]&&this.solvesPlugins[t].solvesPluginName==t)return this.solvesPlugins[t];this.solvesPlugins[t]=e},this.getSolvesPlugin=function(t){return void 0!==this.solvesPlugins[t]&&null!=this.solvesPlugins[t]&&this.solvesPlugins[t].solvesPluginName==t?this.solvesPlugins[t]:null},this.hasSolvesPlugin=function(t){return null!=this.solvesPlugins[t]},this.isApp=function(){return this.isTrue(this.app)},this.getCompleteUrl=function(t,e){return(this.isTrue(t)?"/":this.siteUrl)+e},this.especialCharMask=function(t){return(t=(t=(t=t.replace(/[ÀÁÂÃÄÅ]/g,"A")).replace(/[àáâãäå]/g,"a")).replace(/[ÈÉÊË]/g,"E")).replace(/[^a-z0-9]/gi,"")},this.isTrue=function(t){return null!=t&&(1==t||"t"==t||"v"==t||"true"==t||1==t||"1"==t||"on"==t||"checked"==t)},this.isNotEmpty=function(t){return void 0!==t&&null!=t&&"null"!=t&&""!=t&&"undefined"!=t&&""!=(""+t).trim()},this.getAllUrlParams=function(t){var e=t?t.split("?")[1]:window.location.search.slice(1),s={};if(e)for(var i=(e=e.split("#")[0]).split("&"),l=0;l<i.length;l++){var n=i[l].split("="),o=void 0,r=n[0].replace(/\[\d*\]/,function(t){return o=t.slice(1,-1),""}),a=void 0===n[1]||n[1];r=r.toLowerCase(),a=a.toLowerCase(),s[r]?("string"==typeof s[r]&&(s[r]=[s[r]]),void 0===o?s[r].push(a):s[r][o]=a):s[r]=a}return s},this.getAjaxParam=function(t,e,s,i){return this.getAjaxParamRequest("POST",t,e,s,i)},this.getAjaxParamGet=function(t,e,s,i){return this.getAjaxParamRequest("GET",t,e,s,i)},this.getAjaxParamPut=function(t,e,s,i){return this.getAjaxParamRequest("PUT",t,e,s,i)},this.getAjaxParamDelete=function(t,e,s,i){return this.getAjaxParamRequest("DELETE",t,e,s,i)},this.getAjaxParamRequest=function(t,e,s,i,l){var n=null,o=this.getSolvesPlugin("SolvesStorage");return null!=o&&(n=o.getStorageAuthToken()),{type:t,url:e,processData:!1,contentType:!1,cache:!1,data:s,headers:{Authorization:n},success:function(t){i(t),result=jQuery.parseJSON(t),$.Solves.isTrue(result.logoff)&&(console.log("não autorizado."),$.Solves.logoff()),$.Solves.loaded()},error:function(t){l(t),$.Solves.loaded()},complete:function(t){$.Solves.loaded()}}},this.getAjaxExternalParam=function(t,e,s,i,l){return{type:e,url:t,processData:!1,contentType:!1,cache:!1,data:s,success:function(t){i(t),$.Solves.loaded()},error:function(t){l(t),$.Solves.loaded()}}},this.doAjax=function(t,e,s,i){return $.ajax(this.getAjaxParam(t,e,s,i))},this.doAjaxExternal=function(t,e,s,i,l){return $.ajax(this.getAjaxExternalParam(t,e,s,i,l))},this.doMaskForMoney=function(t){$("#"+t).maskMoney({symbol:"R$",decimal:",",thousands:"."})},this.getUserLabel=function(t,e){return this.PERFIL_LOGADO.user_id==t?"Eu":e},this.getIdade=function(t){var e=t.substring(0,4),s=t.substring(5,7),i=t.substring(8,10),l=new Date,n=l.getFullYear(),o=l.getMonth()+1,r=l.getDate(),a=(i=+i,n-(e=+e));return(o<(s=+s)||o==s&&r<i)&&a--,a<0?0:a},this.escapeTextField=function(t){return escape(t)},this.apenasNumeros=function(t){var e=t.replace(/[^0-9]/g,"");return parseInt(e)},this.getDoubleValue=function(t){var e=t.replace(/[^0-9,.]/g,"");return e.indexOf(".")>0&&e.indexOf(",")>0&&(e=e.replace(/[.]/g,"")),e=e.replace(",","."),parseFloat(e)},this.formatMoneyByCountry=function(t){return"R$ "+this.formatMoney(t)},this.formatMoney=function(t){var e="";if(void 0!==t){var s=(t=Math.round(100*t)/100).toString().length,i=t.toString().indexOf("."),l=i>0?t.toString().substring(0,i):t,n=i>0?t.toString().substring(i+1,s):0;e=l+","+(n<10?n+"0":n)}return e},this.getDataAtualFormatada=function(){var t=new Date,e=t.getDate().toString(),s=1==e.length?"0"+e:e,i=(t.getMonth()+1).toString();return s+"/"+(1==i.length?"0"+i:i)+"/"+t.getFullYear()},this.removeEspacos=function(t){return void 0!==t&&null!=t?t.replace(/\s/g,""):null},this.substituiEspacos=function(t,e){return void 0!==t&&null!=t?t.replace(/\s/g,e):null},this.getSiteUrl=function(){return this.siteUrl},this.getSiteUrlRest=function(t){return this.siteUrl+"rest/"},this.getSubObjetos=function(t){return this.subObjetos[t]},this.setSubObjetos=function(t,e){this.subObjetos[t]=e},this.getSubObjeto=function(t,e){return this.subObjetos[t][e]},this.setSubObjeto=function(t,e,s){this.subObjetos[t][e]=s},this.removeSubObjeto=function(t,e,s){this.subObjetos[t][e].remove()},this.getPalavraPrimeiraLetraMaiuscula=function(t){return null!=t&&(t=t.length>1?t.substring(0,1).toUpperCase()+t.substring(1,t.length):t.toUpperCase()),t},this.getTempoPassadoFormatado=function(t,e){return null==e||null==e||e<1?"há momentos atrás":e<60?"há "+(s=Math.floor(e))+" minuto"+(s>1?"s":""):e>=60&&e<1440?"há "+(s=Math.floor(e/60))+" hora"+(s>1?"s":""):e>=1440&&e<44640?"há "+(s=Math.floor(e/60/24))+(s>1?" dias":" dia")+" ("+t+")":e>=44640&&e<525600?"há "+(s=Math.floor(e/60/24/31))+(s>1?" meses":" mês")+" ("+t+")":e>=525600?"há "+(s=Math.floor(e/60/24/31/12))+(s>1?" anos":" ano")+" ("+t+")":t;var s},this.getMinutosLabel=function(t){if(null==t||null==t||t<1)return"";var e=Math.floor(t);return e+" minuto"+(e>1?"s":"")},this.getExtensao=function(t){return null==t||t.indexOf(".")<1?"":t.split(".").pop()},this.getClassByExtension=function(t){var e="";return"jpg"===t||"JPG"===t||"jpeg"===t||"JPEG"===t||"gif"===t||"GIF"===t||"png"===t||"PNG"===t?e="item_anexo_image":"pdf"===t||"PDF"===t?e="item_anexo_pdf":"zip"===t||"ZIP"===t?e="item_anexo_zip":"doc"===t||"DOC"===t||"docx"===t||"DOCX"===t?e="item_anexo_doc":"xls"===t||"XLS"===t||"xlsx"===t||"XLSX"===t?e="item_anexo_xls":"ppt"!==t&&"PPT"!==t&&"pptx"!==t&&"PPTX"!==t||(e="item_anexo_ppt"),e},this.htmlDecode=function(t){return t=this.isNotEmpty(t)?(t=(t=(t=(t=(t=(t=(t=(t=t.replaceAll("&lt;p&gt;","<p>").replaceAll("&lt;/p&gt;","</p>")).replaceAll("&lt;b&gt;","<b>").replaceAll("&lt;/b&gt;","</b>")).replaceAll("&lt;strong&gt;","<strong>").replaceAll("&lt;/strong&gt;","</strong>")).replaceAll("&lt;h3&gt;","<h3>").replaceAll("&lt;/h3&gt;","</h3>")).replaceAll("&lt;h2&gt;","<h2>").replaceAll("&lt;/h2&gt;","</h2>")).replaceAll("&lt;h1&gt;","<h1>").replaceAll("&lt;/h1&gt;","</h1>")).replaceAll("&lt;em&gt;","<em>").replaceAll("&lt;/em&gt;","</em>")).replaceAll("&lt;br&gt;","<br>").replaceAll("&lt;br/&gt;","<br/>")).replaceAll("&#92;&#34;",'"'):""},this.htmlDecodePuro=function(t){return this.isNotEmpty(t)?($("<div>",{id:"hiddenHtmlDecode",class:"hidden"}).appendTo("body"),t=$("#hiddenHtmlDecode").html(this.htmlDecode(t)).text(),$("#hiddenHtmlDecode").html("").remove()):t="",t},this.getFormData=function(t){var e=new FormData;return e.append(this.PARAM_NAME_DADOS,this.getJsonData(t)),e},this.encondeUrlParam=function(t){return t=(t=encodeURI(t)).replaceAll("&","%26")},this.getTokenUrlParam=function(){if(this.isNotEmpty($.SolvesStorage.getStorageAuthToken())&&this.isNotEmpty($.SolvesStorage.getStorageAuthUserData())){var t=this.getSolvesPlugin("SolvesStorage");if(null!=t){var e="",s=!1,i=t.getStorageAuthToken(),l=JSON.stringify(t.getStorageAuthUserData()),n=JSON.stringify(t.getStorageAuthUsuario()),o=JSON.stringify(t.getStorageAuthPerfil());return this.isNotEmpty(i)&&(e+=this.PARAM_NAME_TOKEN+"="+i,s=!0),this.isNotEmpty(l)&&(e+=(s?"&":"")+this.PARAM_NAME_USERDATA+"="+this.encondeUrlParam(l),s=!0),this.isNotEmpty(n)&&(e+=(s?"&":"")+this.PARAM_NAME_USUARIO+"="+this.encondeUrlParam(n),s=!0),this.isNotEmpty(o)&&(e+=(s?"&":"")+this.PARAM_NAME_PERFIL+"="+this.encondeUrlParam(o),s=!0),e}console.log("logoff sem SolvesStorage.")}return""},this.getJsonData=function(t){var e=this.getTokenUrlParam();if(null!=this.getSolvesPlugin("SolvesStorage")){var s=this.getSolvesPlugin("SolvesGeo");null!=s&&(null!=s.addressData&&null!=s.addressData&&(e+=(e.length>0?"&":"?")+this.PARAM_NAME_ADDRESS_DATA+"="+this.escapeTextField(JSON.stringify(s.addressData))),null!=s.geoData&&null!=s.geoData&&(e+=(e.length>0?"&":"?")+this.PARAM_NAME_GEO_DATA+"="+this.escapeTextField(JSON.stringify(s.geoData))))}return null!=t&&(e+=(e.length>0?"&":"?")+this.PARAM_NAME_DADOS+"="+this.escapeTextField(JSON.stringify(t))),e},this.refreshUrlBrowser=function(t,e){window.history.pushState(t,this.siteTitulo+(this.isNotEmpty(e)?" "+e:""),t)},this.logoff=function(){this.PERFIL_LOGADO=null;var t=this.getSolvesPlugin("SolvesStorage");null!=t?t.clearAuthData():console.log("logoff sem SolvesStorage."),this.clearDataActualPage()},this.isLogado=function(){var t=this.getSolvesPlugin("SolvesStorage");return null!=t?this.isNotEmpty(t.getStorageAuthUserData()):(console.log("logoff sem SolvesStorage."),!1)},this.getPerfilLogado=function(){if(this.isLogado()){if(null==this.PERFIL_LOGADO){var t=this.getSolvesPlugin("SolvesStorage");null!=t?this.PERFIL_LOGADO=t.getStorageAuthPerfil():console.log("logoff sem SolvesStorage.")}}else this.PERFIL_LOGADO=null;return this.PERFIL_LOGADO},this.loaded=function(){this.submiting=!1;var t=this.getSolvesPlugin("SolvesUi");if(null!=t)return t.loaded()},this.atualizaPerfilLogado=function(t){null==t?this.PERFIL_LOGADO=null:(null==this.getPerfilLogado()&&(this.PERFIL_LOGADO={}),this.PERFIL_LOGADO.data_nascimento=t.data_nascimento,this.PERFIL_LOGADO.email_confirmado=this.isTrue(t.email_confirmado),this.PERFIL_LOGADO.email=t.email,this.PERFIL_LOGADO.nome=t.nome,this.PERFIL_LOGADO.avatar=this.normalizeImgUrl(t.avatar),null!=this.PERFIL_LOGADO.data_nascimento&&(this.PERFIL_LOGADO.idade=this.getIdade(this.PERFIL_LOGADO.data_nascimento)),null!=t.fone1&&(this.PERFIL_LOGADO.fone1=t.fone1),null!=t.fone2&&(this.PERFIL_LOGADO.fone2=t.fone2));var e=this.getSolvesPlugin("SolvesStorage");null!=e&&e.setStorageAuthPerfil(this.PERFIL_LOGADO);var s=this.getSolvesPlugin("SolvesUi");null!=s&&s.preencheHtmlUsuarioLogado()},this.clearDataActualPage=function(){this.filtro=null,this.params=null,this.lista=[],this.objetoId=null,this.objeto=null,this.subObjetoId=null,this.subObjeto=null,this.subObjetoQtd=0,this.subObjetos=[]},this.refreshOffline=function(t){window.location.href=t},this.normalizeImgUrl=function(t){return this.isNotEmpty(t)?void 0!==t.slice&&"function"==typeof t.slice&&"data:"===t.slice(0,5)?t.replace(/ /g,"+"):t:""},this.base64ToBlob=function(t,e){e=e||"";for(var s=window.atob(t),i=[],l=0,n=s.length;l<n;l+=1024){for(var o=s.slice(l,l+1024),r=new Array(o.length),a=0;a<o.length;a++)r[a]=o.charCodeAt(a);var u=new Uint8Array(r);i.push(u)}return new Blob(i,{type:e})},this.getImgSrcInBlob=function(t){var e=$("#"+t).attr("src");if($.Solves.isNotEmpty(e)){var s=e.replace(/^data:image\/(png|jpg);base64,/,"");return this.base64ToBlob(s,"image/png")}return null}}$.Solves=new Solves,String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)},Array.prototype.remove=function(t,e){var s=this.slice((e||t)+1||this.length);return this.length=t<0?this.length+t:t,this.push.apply(this,s)};